<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>FLTK 3.0: Migrating Code from FLTK 1.0 to 1.1</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FLTK 3.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Migrating Code from FLTK 1.0 to 1.1 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This appendix describes the differences between the FLTK 1.0.x and FLTK 1.1.x functions and classes.</p>
<h1><a class="anchor" id="migration_1_1_color"></a>
Color Values</h1>
<p>Color values are now stored in a 32-bit unsigned integer instead of the unsigned character in 1.0.x. This allows for the specification of 24-bit RGB values or 8-bit FLTK color indices.</p>
<p><code>FL_BLACK</code> and <code>FL_WHITE</code> now remain black and white, even if the base color of the gray ramp is changed using <a class="el" href="namespacefltk3.html#aba6311371ce222bdf52d889a83397503" title="Changes fltk3::color(fltk3::BACKGROUND_COLOR) to the given color, and changes the gray ramp from 32 t...">Fl::background()</a>. <code>FL_DARK3</code> and <code>FL_LIGHT3</code> can be used instead to draw a very dark or a very bright background hue.</p>
<p>Widgets use the new color symbols <code>FL_FORGROUND_COLOR</code>, <code>FL_BACKGROUND_COLOR</code>, <code>FL_BACKGROUND2_COLOR</code>, <code>FL_INACTIVE_COLOR</code>, and <code>FL_SELECTION_COLOR</code>. More details can be found in the chapter <a class="el" href="enumerations.html">FLTK Enumerations</a>.</p>
<h1><a class="anchor" id="migration_1_1_cutnpaste"></a>
Cut and Paste Support</h1>
<p>The FLTK clipboard is now broken into two parts - a local selection value and a cut-and-paste value. This allows FLTK to support things like highlighting and replacing text that was previously cut or copied, which makes FLTK applications behave like traditional GUI applications.</p>
<h1><a class="anchor" id="migration_1_1_file_chooser"></a>
File Chooser</h1>
<p>The file chooser in FLTK 1.1.x is significantly different than the one supplied with FLTK 1.0.x. Any code that directly references the old <code>FCB</code> class or members will need to be ported to the new Fl_File_Chooser class.</p>
<h1><a class="anchor" id="migration_1_1_functions"></a>
Function Names</h1>
<p>Some function names have changed from FLTK 1.0.x to 1.1.x in order to avoid name space collisions. You can still use the old function names by defining the <code>FLTK_1_0_COMPAT</code> symbol on the command-line when you compile (<code>-DFLTK_1_0_COMPAT</code>) or in your source, e.g.:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define FLTK_1_0_COMPAT</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#include &lt;FL/Fl.H&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;FL/Enumerations.H&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;FL/filename.H&gt;</span></div>
</div><!-- fragment --><p>The following table shows the old and new function names:</p>
<center> <table  width="80%" border="1">
<tr>
<th>Old 1.0.x Name </th><th>New 1.1.x Name  </th></tr>
<tr>
<td><a class="el" href="group__fl__attributes.html#ga254360094cc97db42e193a13e9fd277a" title="Returns a color that contrasts with the background color. ">contrast()</a> </td><td>fl_contrast()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#a965528dd9675fef68e5fb85570a84f4c" title="Get the &quot;pressed&quot; or &quot;down&quot; version of a box. ">down()</a> </td><td>fl_down()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#a0323e7879ade7332fc00ada75905b5c7" title="Makes a filename absolute from a relative filename. ">filename_absolute()</a> </td><td>fl_filename_absolute()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#a71a00a34bf96c4e5f32fdeb0757d84aa" title="Expands a filename containing shell variables and tilde (~). ">filename_expand()</a> </td><td>fl_filename_expand()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#ab6f97a5229e999cefbbce4f9488ca43d" title="Gets the extensions of a filename. ">filename_ext()</a> </td><td>fl_filename_ext()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#a422a0ecd90d38d644ceee28651ecc151" title="Determines if a file exists and is a directory from its filename. ">filename_isdir()</a> </td><td>fl_filename_isdir()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#a4fb1aeaa32795959728f2c3888596d9a" title="Portable and const-correct wrapper for the scandir() function. ">filename_list()</a> </td><td>fl_filename_list()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#afce34a1340460b15c85d8c37c47963c0" title="Checks if a string s matches a pattern p. ">filename_match()</a> </td><td>fl_filename_match()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#a7ead483930ad8323d55b033a16e22edc" title="Gets the file name from a path. ">filename_name()</a> </td><td>fl_filename_name()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#a7de3a84fcb310b808fce0b92f3a96a50" title="Makes a filename relative to the current working directory. ">filename_relative()</a> </td><td>fl_filename_relative()  </td></tr>
<tr>
<td><a class="el" href="namespacefltk3.html#ab1d431f65b83576fde1fba09f43480ef" title="Replaces the extension in buf of max. ">filename_setext()</a> </td><td>fl_filename_setext()  </td></tr>
<tr>
<td><a class="el" href="group__fl__drawings.html#ga3dd952753ce00646bea697742c8f6650" title="Draws a series of line segments around the given box. ">frame()</a> </td><td>fl_frame()  </td></tr>
<tr>
<td><a class="el" href="group__fl__attributes.html#ga6df33cc8d9737eb8c13addce3597d14e" title="Returns the inactive, dimmed version of the given color. ">inactive()</a> </td><td>fl_inactive()  </td></tr>
<tr>
<td>numericsort() </td><td>fl_numericsort()  </td></tr>
</table>
</center><h1><a class="anchor" id="migration_1_1_images"></a>
Image Support</h1>
<p>Image support in FLTK has been significantly revamped in 1.1.x. The Fl_Image class is now a proper base class, with the core image drawing functionality in the Fl_Bitmap, Fl_Pixmap, and Fl_RGB_Image classes.</p>
<p>BMP, GIF, JPEG, PNG, XBM, and XPM image files can now be loaded using the appropriate image classes, and the Fl_Shared_Image class can be used to cache images in memory.</p>
<p>Image labels are no longer provided as an add-on label type. If you use the old <code>label()</code> methods on an image, the widget's <code>image()</code> method is called to set the image as the label.</p>
<p>Image labels in menu items must still use the old labeltype mechanism to preserve source compatibility.</p>
<h1><a class="anchor" id="migration_1_1_keyboard"></a>
Keyboard Navigation</h1>
<p>FLTK 1.1.x now supports keyboard navigation and control with all widgets. To restore the old FLTK 1.0.x behavior so that only text widgets get keyboard focus, call the <a class="el" href="namespacefltk3.html#a1ed00cde211a13a8e347ed05b44bc202" title="Gets or sets the visible keyboard focus on buttons and other non-text widgets. ">Fl::visible_focus()</a> method to disable it:</p>
<div class="fragment"><div class="line"><a class="code" href="namespacefltk3.html#a1ed00cde211a13a8e347ed05b44bc202">Fl::visible_focus</a>(0);</div>
</div><!-- fragment --> 
<hr>
<table summary="navigation bar" width="100%" border="0">
<tr>
  <td width="45%" align="LEFT">
    <a class="el" href="osissues.html">
    [Prev]
    Operating System Issues
    </a>
  </td>
  <td width="10%" align="CENTER">
    <a class="el" href="index.html">[Index]</a>
  </td>
  <td width="45%" align="RIGHT">
    <a class="el" href="migration_1_3.html">
    Migrating Code from FLTK 1.1 to 1.3
    [Next]
    </a>
  </td>
</tr>
</table>
 </div></div><!-- contents -->
<!-- BEGIN FLTK HTML_FOOTER -->
 <!-- Generated for FLTK 3.0 by Doxygen -->
   <li class="footer">
     <!-- Generated for FLTK 3.0 by Doxygen -->
     &copy; 1998-2011 by Bill Spitzak and others. &nbsp;&nbsp;&nbsp;
     <a href="http://www.fltk.org"><img src="tiny.png" align="bottom" alt="FLTK"></a>
   </li>
  </ul>
 </div>
<hr class="footer"/>
<address class="footer"><small>
  <div align="left">
    <a href="http://www.fltk.org"><img src="tiny.png" align="bottom" alt="FLTK"></a>
    &copy; 1998-2011 by Bill Spitzak and others.&nbsp;&nbsp;&nbsp;
    Permission is granted to reproduce this manual or any portion for
    any purpose, provided this copyright and permission notice are preserved.
  </div>
</small></address>
<!-- END FLTK HTML_FOOTER (/body and /html follows...) -->
</body>
</html>
